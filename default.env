# EchoVault Default Environment Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# SECURITY (REQUIRED)
# =============================================================================
# Generate a strong secret with: openssl rand -hex 32
JWT_SECRET=your-secret-key-here-generate-with-openssl-rand-hex-32

# JWT token expiration time in minutes (default: 10080 = 1 week)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10080

# =============================================================================
# CORS CONFIGURATION (REQUIRED FOR PRODUCTION)
# =============================================================================
# Comma-separated list of allowed origins
# For production, set this to your frontend domain(s)
# Example: https://echovault.example.com,https://www.echovault.example.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# OLLAMA CONFIGURATION (Legacy - for local development)
# =============================================================================
# Model for reflections and insights generation
REFLECTION_MODEL=llama3.1:8b

# Model for generating embeddings (vector search)
EMBED_MODEL=mxbai-embed-large

# Ollama server URL
# Use http://ollama:11434 when running in Docker
# Use http://localhost:11434 when running locally
OLLAMA_URL=http://ollama:11434

# =============================================================================
# DEFAULT LLM SETTINGS (User can override in app settings)
# =============================================================================
# These are used when users haven't configured their own LLM settings
DEFAULT_GENERATION_URL=http://ollama:11434
DEFAULT_GENERATION_MODEL=llama3.1:8b
DEFAULT_EMBEDDING_URL=http://ollama:11434
DEFAULT_EMBEDDING_MODEL=mxbai-embed-large

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# API URL for the Next.js frontend
# For production, set this to your API domain (e.g., https://api.echovault.example.com)
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection (used by Docker Compose)
POSTGRES_USER=echovault
POSTGRES_PASSWORD=echovault
POSTGRES_DB=echovault

# Full database connection string
# Use postgresql+psycopg:// prefix for SQLAlchemy async support
DATABASE_URL=postgresql+psycopg://echovault:echovault@db:5432/echovault

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis URL for Celery broker
REDIS_URL=redis://redis:6379/0

# =============================================================================
# FILE UPLOADS
# =============================================================================
# Directory for storing uploaded files
UPLOAD_DIR=/data/uploads

# =============================================================================
# LOGGING (Optional)
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# PRODUCTION SERVER (Optional)
# =============================================================================
# Number of gunicorn workers (default: 4)
# Recommendation: 2-4 x number of CPU cores
GUNICORN_WORKERS=4
